# ë°ì´í„° êµ¬ì¡° ì„¤ëª…

DDOBAK RAG Source Collectorì—ì„œ ìˆ˜ì§‘í•˜ëŠ” ë°ì´í„°ì˜ êµ¬ì¡°ì™€ í˜•ì‹ì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì…ë‹ˆë‹¤.

## ğŸ“Š ë°ì´í„° ê°œìš”

### ë¡œí†¡ (Lawtalk) ë°ì´í„° êµ¬ì¡°

ë¡œí†¡ì—ì„œ ìˆ˜ì§‘í•˜ëŠ” ë°ì´í„°ëŠ” í¬ê²Œ 3ê°€ì§€ ìœ í˜•ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤:

1. **ìƒë‹´ ì‚¬ë¡€ (Consultation Cases)**: ë²•ë¥  ì§ˆë¬¸ê³¼ ë³€í˜¸ì‚¬ ë‹µë³€
2. **í•´ê²°ëœ ì‚¬ë¡€ (Solved Cases)**: ì¹´í…Œê³ ë¦¬ë³„ í•´ê²° ì‚¬ë¡€  
3. **ê°€ì´ë“œ í¬ìŠ¤íŠ¸ (Guide Posts)**: ë²•ë¥  ê°€ì´ë“œ ë° ì •ë³´

## ğŸ—‚ï¸ íŒŒì¼ êµ¬ì¡°

### ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```
data/lawtalk/
â”œâ”€â”€ consultation_case/          # ìƒë‹´ ì‚¬ë¡€
â”‚   â””â”€â”€ MMDD/                  # ë‚ ì§œë³„ í´ë” (ì˜ˆ: 0608)
â”‚       â”œâ”€â”€ 0.json             # ì²« ë²ˆì§¸ ë°°ì¹˜
â”‚       â”œâ”€â”€ 1.json             # ë‘ ë²ˆì§¸ ë°°ì¹˜
â”‚       â””â”€â”€ ...
â”œâ”€â”€ solved_cases/              # í•´ê²° ì‚¬ë¡€
â”‚   â””â”€â”€ [ì¹´í…Œê³ ë¦¬ëª…]/          # ì¹´í…Œê³ ë¦¬ë³„ í´ë”
â”‚       â””â”€â”€ MMDD/              # ë‚ ì§œë³„ í´ë”
â”‚           â”œâ”€â”€ 0.json
â”‚           â””â”€â”€ ...
â””â”€â”€ guide_posts/               # ë²•ë¥  ê°€ì´ë“œ í¬ìŠ¤íŠ¸
    â””â”€â”€ [ì¹´í…Œê³ ë¦¬ëª…]/          # ì¹´í…Œê³ ë¦¬ë³„ í´ë”
        â””â”€â”€ MMDD/              # ë‚ ì§œë³„ í´ë”
            â”œâ”€â”€ 0.json
            â””â”€â”€ ...
```

### íŒŒì¼ëª… ê·œì¹™

- **ë‚ ì§œ í´ë”**: `MMDD` í˜•ì‹ (ì˜ˆ: `0608` = 6ì›” 8ì¼)
- **ë°ì´í„° íŒŒì¼**: `{ìˆœë²ˆ}.json` í˜•ì‹ (ì˜ˆ: `0.json`, `1.json`)
- **ì¤‘ë³µ ë°©ì§€**: ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ìˆìœ¼ë©´ `{ìˆœë²ˆ}_{ì¹´ìš´í„°}.json` í˜•ì‹

## ğŸ“„ ë°ì´í„° ìŠ¤í‚¤ë§ˆ

### 1. ìƒë‹´ ì‚¬ë¡€ (Consultation Cases)

#### íŒŒì¼ êµ¬ì¡° ì˜ˆì‹œ
```json
{
  "success": true,
  "total_fetched": 10,
  "offset": 0,
  "simple_result": true,
  "data": {
    "questions": [
      {
        "_id": "68445cadefc154ba2a238a0e",
        "user": "658479771c9755a225511cb5",
        "categories": [
          {
            "_id": "62a9f8bb9fcafe948d73e9ee",
            "name": "í­í–‰/í˜‘ë°•/ìƒí•´ ì¼ë°˜",
            "description": "í­í–‰, í˜‘ë°•, ìƒí•´, ê°ê¸ˆ, ìœ ê¸°, í•™ëŒ€, ê³¼ì‹¤ì¹˜ì‚¬ìƒ, ê³µë¬´ì§‘í–‰ë°©í•´ ë“±",
            "sort": 1,
            "createdAt": "2022-06-15T15:20:27.526Z",
            "updatedAt": "2022-06-15T15:20:27.526Z",
            "__v": 0
          }
        ],
        "titleOrigin": "ì´ëŸ° ê²½ìš° íŠ¹ìˆ˜í­í–‰ ì¬ë¬¼ì†ê´´ ê°€ëŠ¥í•œê°€ìš”?",
        "bodyOrigin": "ìƒì„¸í•œ ì§ˆë¬¸ ë‚´ìš©...",
        "title": "íŠ¹ìˆ˜í­í–‰ê³¼ ì¬ë¬¼ì†ê´´ ì‚¬ê±´ ëŒ€ì²˜ ë°©ë²•",
        "body": "ì •ì œëœ ì§ˆë¬¸ ë‚´ìš©...",
        "slugs": ["523482-ì´ëŸ°-ê²½ìš°-íŠ¹ìˆ˜í­í–‰-ì¬ë¬¼ì†ê´´-ê°€ëŠ¥í•œê°€ìš”"],
        "meta": {
          "keywords": ["íŠ¹ìˆ˜í­í–‰", "ì¬ë¬¼ì†ê´´", "ì‚¬ê±´ ëŒ€ì²˜"]
        },
        "createdAt": "2025-06-07T15:37:17.876Z",
        "updatedAt": "2025-06-07T17:41:52.631Z",
        "answers": [
          {
            "_id": "68445f91054004aa0ce28a86",
            "lawyer": "6424e5628fa48c59aadd8905",
            "role": "lawyer",
            "body": [
              {
                "_id": "68445f92054004aa0ce28a96",
                "answer": "68445f91054004aa0ce28a86",
                "body": "ë³€í˜¸ì‚¬ ë‹µë³€ ë‚´ìš©...",
                "createdAt": "2025-06-07T15:49:38.830Z",
                "updatedAt": "2025-06-07T15:49:38.830Z",
                "number": 2926531
              }
            ]
          }
        ]
      }
    ]
  }
}
```

#### í•„ë“œ ì„¤ëª…

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `success` | boolean | í¬ë¡¤ë§ ì„±ê³µ ì—¬ë¶€ |
| `total_fetched` | number | ìˆ˜ì§‘ëœ ì§ˆë¬¸ ìˆ˜ |
| `offset` | number | í˜ì´ì§€ë„¤ì´ì…˜ ì˜¤í”„ì…‹ |
| `simple_result` | boolean | ê°„ì†Œí™”ëœ ê²°ê³¼ ì—¬ë¶€ |
| `data.questions` | array | ì§ˆë¬¸ ëª©ë¡ |

#### Question ê°ì²´

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `_id` | string | ì§ˆë¬¸ ê³ ìœ  ID |
| `user` | string | ì§ˆë¬¸ì ID |
| `categories` | array | ë²•ë¥  ì¹´í…Œê³ ë¦¬ ëª©ë¡ |
| `titleOrigin` | string | ì›ë³¸ ì œëª© |
| `bodyOrigin` | string | ì›ë³¸ ë‚´ìš© |
| `title` | string | ì •ì œëœ ì œëª© |
| `body` | string | ì •ì œëœ ë‚´ìš© |
| `slugs` | array | URL ìŠ¬ëŸ¬ê·¸ ëª©ë¡ |
| `meta.keywords` | array | í‚¤ì›Œë“œ ëª©ë¡ |
| `createdAt` | string | ìƒì„± ì‹œê°„ (ISO 8601) |
| `updatedAt` | string | ìˆ˜ì • ì‹œê°„ (ISO 8601) |
| `answers` | array | ë‹µë³€ ëª©ë¡ |

#### Answer ê°ì²´

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `_id` | string | ë‹µë³€ ê³ ìœ  ID |
| `lawyer` | string | ë³€í˜¸ì‚¬ ID |
| `role` | string | ì—­í•  ("lawyer") |
| `body` | array | ë‹µë³€ ë‚´ìš© ë°°ì—´ |

### 2. í•´ê²°ëœ ì‚¬ë¡€ (Solved Cases)

#### íŒŒì¼ êµ¬ì¡° ì˜ˆì‹œ
```json
{
  "success": true,
  "total_fetched": 10,
  "category": "ì¬ì‚°ë²”ì£„",
  "category_id": "62a9f8bb9fcafe948d73e9e9",
  "offset": 0,
  "simple_result": true,
  "data": {
    "posts": [
      {
        "_id": "65f2b4b83e4656f1bdde8ffc",
        "title": "ë¶€ë™ì‚° ì‚¬ê¸° ì‚¬ê±´ í•´ê²° ì‚¬ë¡€",
        "titleOrigin": "ë¶€ë™ì‚° ì‚¬ê¸° ì‚¬ê±´ í•´ê²° ì‚¬ë¡€",
        "type": "guide",
        "isPublished": true,
        "createdAt": "2024-03-14T09:30:00.000Z",
        "updatedAt": "2024-03-14T09:30:00.000Z",
        "htmlContent": "<p>í•´ê²° ì‚¬ë¡€ HTML ë‚´ìš©...</p>",
        "textContent": "í•´ê²° ì‚¬ë¡€ í…ìŠ¤íŠ¸ ë‚´ìš©...",
        "lawyer": {
          "_id": "62cf5914c4a922080dd7655c",
          "name": "ê¹€ë³€í˜¸ì‚¬",
          "role": "lawyer"
        },
        "categories": [
          {
            "_id": "62a9f8bb9fcafe948d73e9e9",
            "name": "ì¬ì‚°ë²”ì£„"
          }
        ],
        "keywords": ["ë¶€ë™ì‚°", "ì‚¬ê¸°", "í•´ê²°ì‚¬ë¡€"]
      }
    ]
  }
}
```

#### í•„ë“œ ì„¤ëª…

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `category` | string | ì¹´í…Œê³ ë¦¬ ì´ë¦„ |
| `category_id` | string | ì¹´í…Œê³ ë¦¬ ID |
| `data.posts` | array | í¬ìŠ¤íŠ¸ ëª©ë¡ |

#### Post ê°ì²´

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `_id` | string | í¬ìŠ¤íŠ¸ ê³ ìœ  ID |
| `title` | string | ì œëª© |
| `titleOrigin` | string | ì›ë³¸ ì œëª© |
| `type` | string | í¬ìŠ¤íŠ¸ íƒ€ì… |
| `isPublished` | boolean | ê²Œì‹œ ì—¬ë¶€ |
| `htmlContent` | string | HTML í˜•ì‹ ë‚´ìš© |
| `textContent` | string | í…ìŠ¤íŠ¸ í˜•ì‹ ë‚´ìš© |
| `lawyer` | object | ì‘ì„± ë³€í˜¸ì‚¬ ì •ë³´ |
| `categories` | array | ì¹´í…Œê³ ë¦¬ ëª©ë¡ |
| `keywords` | array | í‚¤ì›Œë“œ ëª©ë¡ |

### 3. ê°€ì´ë“œ í¬ìŠ¤íŠ¸ (Guide Posts)

ê°€ì´ë“œ í¬ìŠ¤íŠ¸ëŠ” í•´ê²°ëœ ì‚¬ë¡€ì™€ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ì§€ë§Œ, ë‚´ìš©ì´ ê°€ì´ë“œ ë° ì •ë³´ì„± í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

## ğŸ”„ ë°ì´í„° ì²˜ë¦¬ ì˜µì…˜

### Simple Result vs Detail Result

#### Simple Result (`simple_result: true`)
- í•µì‹¬ í•„ë“œë§Œ í¬í•¨
- íŒŒì¼ í¬ê¸° ìµœì†Œí™”
- ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„

#### Detail Result (`simple_result: false`)
- ëª¨ë“  í•„ë“œ í¬í•¨
- ì™„ì „í•œ ë°ì´í„° ë³´ì¡´
- ìƒì„¸ ë¶„ì„ ê°€ëŠ¥

### ì˜ˆì‹œ ë¹„êµ

**Simple Result**:
```json
{
  "_id": "68445cadefc154ba2a238a0e",
  "title": "íŠ¹ìˆ˜í­í–‰ê³¼ ì¬ë¬¼ì†ê´´ ì‚¬ê±´ ëŒ€ì²˜ ë°©ë²•",
  "body": "ì§ˆë¬¸ ë‚´ìš©...",
  "categories": [...],
  "createdAt": "2025-06-07T15:37:17.876Z",
  "answers": [...]
}
```

**Detail Result**:
```json
{
  "_id": "68445cadefc154ba2a238a0e",
  "title": "íŠ¹ìˆ˜í­í–‰ê³¼ ì¬ë¬¼ì†ê´´ ì‚¬ê±´ ëŒ€ì²˜ ë°©ë²•",
  "body": "ì§ˆë¬¸ ë‚´ìš©...",
  "categories": [...],
  "createdAt": "2025-06-07T15:37:17.876Z",
  "answers": [...],
  "views": 1250,
  "likes": 15,
  "bookmarks": 8,
  "relatedQuestions": [...],
  "tags": [...],
  "metadata": {...}
}
```

## ğŸ“ˆ ë°ì´í„° í†µê³„

### ë©”íƒ€ë°ì´í„° í•„ë“œ

ê° JSON íŒŒì¼ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë©”íƒ€ë°ì´í„°ê°€ í¬í•¨ë©ë‹ˆë‹¤:

```json
{
  "success": true,
  "total_fetched": 10,
  "offset": 0,
  "simple_result": true,
  "storage_type": "local",
  "crawl_timestamp": "2025-06-07T15:37:17.876Z"
}
```

### ì¹´í…Œê³ ë¦¬ ëª©ë¡

#### ìƒë‹´ ì‚¬ë¡€ ì¹´í…Œê³ ë¦¬
- í­í–‰/í˜‘ë°•/ìƒí•´ ì¼ë°˜
- ì„±í­ë ¥/ê°•ì œì¶”í–‰ ë“±
- ë¯¸ì„±ë…„ ëŒ€ìƒ ì„±ë²”ì£„
- ë””ì§€í„¸ ì„±ë²”ì£„
- ì‚¬ê¸°/ê³µê°ˆ
- ì¬ì‚°ë²”ì£„
- ë§ˆì•½/ë„ë°•
- í˜•ì‚¬ì¼ë°˜/ê¸°íƒ€ë²”ì£„

#### í•´ê²°ëœ ì‚¬ë¡€ & ê°€ì´ë“œ í¬ìŠ¤íŠ¸ ì¹´í…Œê³ ë¦¬
- ì¬ì‚°ë²”ì£„
- IT/ì§€ì‹ì¬ì‚°/ê¸ˆìœµ
- ê¸ˆì „/ê³„ì•½ ë¬¸ì œ
- í˜•ì‚¬/ìˆ˜ì‚¬/ì¬íŒ
- ê°€ì¡±/ìƒì†/ì´í˜¼
- ë¶€ë™ì‚°/ì„ëŒ€ì°¨
- êµí†µì‚¬ê³ /ë³´í—˜
- ë…¸ë™/ê³ ìš©/ì‚°ì¬
- ìƒí™œë²•ë¥  ì¼ë°˜

## ğŸ” ë°ì´í„° í™œìš© ì˜ˆì‹œ

### 1. RAG ì‹œìŠ¤í…œ ì…ë ¥ ë°ì´í„°

```python
# ì§ˆë¬¸-ë‹µë³€ ìŒ ì¶”ì¶œ
for question in data['data']['questions']:
    context = {
        'question': question['body'],
        'category': question['categories'][0]['name'],
        'answers': [answer['body'][0]['body'] for answer in question['answers']]
    }
```

### 2. í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰

```python
# í‚¤ì›Œë“œë¡œ ê´€ë ¨ ì‚¬ë¡€ ê²€ìƒ‰
keywords = question['meta']['keywords']
relevant_cases = search_by_keywords(keywords)
```

### 3. ì¹´í…Œê³ ë¦¬ë³„ ë¶„ì„

```python
# ì¹´í…Œê³ ë¦¬ë³„ í†µê³„
category_stats = {}
for question in questions:
    category = question['categories'][0]['name']
    category_stats[category] = category_stats.get(category, 0) + 1
```